(function(){function f(){this.eventHandlers={}}function g(){}f.prototype.getOS=function(){var a=["Macintosh","MacIntel","MacPPC","Mac68K"],b=["Win32","Win64","Win16","Windows","WinCE"],d=["iPhone","iPad","iPod"],e=navigator.platform,c="";e&&(-1!==a.indexOf(e)?c="Mac":-1!==d.indexOf(e)?c="IOS":-1!==b.indexOf(e)?c="Windows":/Linux/.test(e)||/Android/.test(e)?c="Linux":c||(c="OtherOS"));return c};f.prototype.isDesktop=function(){return-1===navigator.userAgent.indexOf("Mobi")};f.prototype.outputToConsole=
function(a,b){if((embedded_svc.settings&&embedded_svc.settings.devMode||embedded_svc.menu&&embedded_svc.menu.settings.devMode)&&console&&console[a])console[a]("[Embedded-Service] "+(Array.isArray(b)?b.join(", "):b))};f.prototype.log=function(){this.outputToConsole("log",[].slice.apply(arguments))};f.prototype.error=function(a){a?this.outputToConsole("error",a):this.outputToConsole("error","unspecified error.")};f.prototype.warning=function(a){a?this.outputToConsole("warn","Warning: "+a):this.outputToConsole("warn",
"anonymous warning.")};f.prototype.deprecated=function(a,b){this.warning(a+" is deprecated in version "+Number(b).toFixed(1)+" and will be removed in version "+(Number(b)+1).toFixed(1))};f.prototype.isOrganizationId=function(a){return"00D"===this.getKeyPrefix(a)};f.prototype.getKeyPrefix=function(a){if(this.isValidEntityId(a))return a.substr(0,3)};f.prototype.isValidEntityId=function(a){return"string"===typeof a&&(18===a.length||15===a.length)};f.prototype.addEventHandler=function(a,b){a=a.toLowerCase();
this.eventHandlers[a]||(this.eventHandlers[a]=[]);this.eventHandlers[a].push(b)};f.prototype.fireEvent=function(a,b,d){a=this.eventHandlers[a.toLowerCase()];var e=[],c=d;!d||d instanceof Array||(c=[d]);a&&a.forEach(function(h){e.push(h.apply(void 0,c))});return b?b(e):!0};f.prototype.isCommunityOrSite=function(){return window.$A&&"function"===typeof window.$A.get&&window.$A.get("$Site")};f.prototype.loadScriptFromUrl=function(a,b,d,e){var c=document.createElement("script");e&&(c.id=e);c.type="text/javascript";
b&&(c.onload=b);d&&(c.onerror=d);c.src=a;document.body.appendChild(c)};f.prototype.generateResourceUrl=function(a,b){return a+"/resource/"+b};f.prototype.isMatchingCustomizationFound=function(a,b){var d=!1;a.customizations&&Array.isArray(a.customizations)&&b&&"string"===typeof b&&((d=a.customizations.some(function(e){return e&&e.hasOwnProperty("name")?e.name===b:!1}))||embedded_svc.utils.log("No customizations with code settings name "+b+" found."));return d};f.prototype.processCustomizations=function(a,
b,d){var e;b=b.customizations.filter(function(c){return c.name===a});(b=0<b.length?b[0]:null)&&b.hasOwnProperty("resources")&&Array.isArray(b.resources)&&0<b.resources.length&&b.resources.forEach(function(c){c&&c.hasOwnProperty("type")&&c.type&&d.hasOwnProperty(c.type)&&"function"===typeof d[c.type]&&(e=d[c.type],e(c))})};f.prototype.getSiteEndpointUrl=function(a){return a.siteUrl?a.siteUrl:null};f.prototype.isUseriOS15plusSafari=function(){var a=!!navigator.userAgent.match(/iP(hone|ad|od)/i),b=navigator.userAgent.match(/(?!=OS)(([0-9]){2})/i);
b=b&&0<b.length?Number(b[0]):-1;var d=!!navigator.userAgent.match(/WebKit/i)&&!navigator.userAgent.match(/CriOS/i);return a&&d&&15<=b};f.prototype.getHostnameFromUrl=function(a){var b=void 0;"string"===typeof a&&(window.URL&&"function"===typeof window.URL?b=(new URL(a)).hostname:(b=-1<a.indexOf("//")?a.split("/")[2]:a.split("/")[0],b=b.split(":")[0],b=b.split("?")[0]));return b};f.prototype.isProtocolHttpOrHttps=function(a){var b;try{return(b=window.URL&&"function"===typeof window.URL?(new URL(a)).protocol:
a.split("/")[0])&&"string"===typeof b?"http:"===b.substring(0,5)||"https:"===b.substring(0,6):!1}catch(d){return!1}};g.prototype.getCookie=function(a,b){b=b||decodeURIComponent;var d=document.cookie;a+="=";var e=d.indexOf("; "+a);if(-1===e){if(e=d.indexOf(a),0!==e)return null}else e+=2;var c=document.cookie.indexOf(";",e);-1===c&&(c=d.length);return b(d.substring(e+a.length,c))};g.prototype.isCategoryAllowedForCurrentConsent=function(a){if(1===Number(this.getCategoryIndex(a)))return!0;var b=this.getCookie("CookieConsentPolicy");
if(null==b)return!0;var d=this.getCookie("CookieConsent");b=b.split(":");return Number(b[0])?null==d?1===Number(this.getCategoryIndex(a)):this.getConsentFromCookieConsentValue(d,a):!0};g.prototype.getCategoryIndex=function(a){if(!a||"string"!==typeof a)return"-1";switch(a.toLowerCase()){case "essential":return"1";case "preferences":return"2";case "statistics":return"3";case "marketing":return"4";default:return"-1"}};g.prototype.getConsentFromCookieConsentValue=function(a,b){a=this.getParsedCookieElementsCookieConsent(a);
if(null==a[3])return!1;a=a[3];b=Number(this.getCategoryIndex(b));return 1===Number(a.charAt(b-1))};g.prototype.getParsedCookieElementsCookieConsent=function(a){return a.split("|")};f.prototype.cookie=new g;window.embedded_svc.utils=new f})();
